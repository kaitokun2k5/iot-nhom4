<!DOCTYPE html>
<html>
<head>
  <title>Điều khiển Đèn với Firebase</title>
  <meta charset="UTF-8">
</head>
<body>
  <h1>Điều khiển Đèn (ESP32)</h1>
  <button onclick="controlLed(true)">Bật đèn</button>
  <button onclick="controlLed(false)">Tắt đèn</button>

  <script>
    // Thay bằng URL Firebase Realtime Database của bạn
    const databaseURL = "https://iot-nhom-4-1bad5-default-rtdb.asia-southeast1.firebasedatabase.app/";

    function controlLed(state) {
      fetch(${databaseURL}/led.json, {
        method: "PUT", // hoặc PATCH
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(state)
      })
      .then(response => {
        if (response.ok) {
          alert(state ? "Đã bật đèn" : "Đã tắt đèn");
        } else {
          alert("Lỗi khi gửi yêu cầu");
        }
      })
      .catch(error => {
        console.error("Lỗi:", error);
      });
    }
  </script>
</body>
</html>
